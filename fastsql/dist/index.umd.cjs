(function(p,u){typeof exports=="object"&&typeof module<"u"?module.exports=u():typeof define=="function"&&define.amd?define(u):(p=typeof globalThis<"u"?globalThis:p||self,p.index=u())})(this,function(){"use strict";const p="";function u(i,t,n,d,s,a,r,e){var o=typeof i=="function"?i.options:i;t&&(o.render=t,o.staticRenderFns=n,o._compiled=!0),d&&(o.functional=!0),a&&(o._scopeId="data-v-"+a);var c;if(r?(c=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__<"u"&&(l=__VUE_SSR_CONTEXT__),s&&s.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(r)},o._ssrRegister=c):s&&(c=e?function(){s.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(o.functional){o._injectStyles=c;var $=o.render;o.render=function(y,_){return c.call(_),$(y,_)}}else{var f=o.beforeCreate;o.beforeCreate=f?[].concat(f,c):[c]}return{exports:i,options:o}}const m={name:"fastsql",props:{fields:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]}},data(){return{condition0:[],condition1:[],condition2:[],thisData:this.data}},mounted(){this.condition0=[{name:this.$t("and"),id:"and"},{name:this.$t("or"),id:"or"}],this.condition1=[{name:this.$t("when"),id:"when"},{name:this.$t("and"),id:"and"},{name:this.$t("or"),id:"or"}],this.condition2=[{name:this.$t("equal"),id:"\uFF1D"},{name:this.$t("noequal"),id:"\u2260"},{name:this.$t("bigger"),id:"\uFF1E"},{name:this.$t("smaller"),id:"\uFF1C"}]},methods:{addCondition(i){this.thisData[i].group.push(this.otherCondition())},addGroup(){this.thisData.push({c0:"and",group:[this.firstCondition()]})},firstCondition(){return{c1value:"when",field:"",c2value:"\uFF1D",value:""}},otherCondition(){return{c1value:"and",field:"",c2value:"\uFF1D",value:""}},value2name(i,t){return i.find(d=>d.id===t).name},handle0Command(i,t){this.thisData[t].c0=i},handle1Command(i,t,n){this.thisData[t].group[n].c1value=i},handleCommand(i,t,n){this.thisData[t].group[n].c2value=i},delItem(i,t){const n=[...this.thisData];n[i].group.length===1?n.splice(i,1):n[i].group.splice(t,1),this.thisData=n},getData(){return this.thisData[0]&&(this.thisData[0].c0=null),this.thisData}}};var v=function(){var t=this,n=t._self._c;return n("div",{staticClass:"all-group"},[t._l(t.thisData,function(d,s){return n("div",{key:s,staticClass:"con-group"},[s!==0?n("div",[n("div",{staticClass:"flex-center-center"},[n("div",{staticClass:"line"}),n("div",{staticClass:"h-center"},[n("el-dropdown",{staticStyle:{"text-align":"center"},on:{command:a=>t.handle0Command(a,s)}},[n("span",{staticClass:"el-dropdown-link fontSize17 pointer"},[t._v(" "+t._s(t.value2name(t.condition0,d.c0))),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.condition0,function(a){return n("el-dropdown-item",{key:a.id,attrs:{command:a.id}},[t._v(t._s(a.name))])}),1)],1)],1),n("div",{staticClass:"line"})])]):t._e(),t._l(d.group,function(a,r){return n("div",{key:a.id,staticClass:"margin10"},[n("el-row",{attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:3}},[n("el-dropdown",{on:{command:e=>t.handle1Command(e,s,r)}},[n("span",{staticClass:"el-dropdown-link pointer"},[t._v(" "+t._s(t.value2name(t.condition1,a.c1value))),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.condition0,function(e){return n("el-dropdown-item",{key:e.id,attrs:{command:e.id,disabled:r===0}},[t._v(t._s(e.name))])}),1)],1)],1),n("el-col",{attrs:{span:8}},[n("div",[n("el-select",{attrs:{slot:"prepend",placeholder:t.$t("select")},slot:"prepend",model:{value:a.field,callback:function(e){t.$set(a,"field",e)},expression:"item.field"}},t._l(t.fields,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)]),n("el-col",{attrs:{span:3}},[n("el-dropdown",{on:{command:e=>t.handleCommand(e,s,r)}},[n("span",{staticClass:"el-dropdown-link pointer"},[t._v(" "+t._s(t.value2name(t.condition2,a.c2value))),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.condition2,function(e){return n("el-dropdown-item",{key:e.id,attrs:{command:e.id}},[t._v(t._s(e.name))])}),1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{placeholder:t.$t("input")},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"item.value"}})],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[n("i",{staticClass:"el-icon-circle-close",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.delItem(s,r)}}})])],1),r===d.group.length-1?n("div",{staticClass:"mt10 colorblue inline-block",on:{click:function(e){return t.addCondition(s)}}},[n("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{cursor:"pointer"}}),n("a",[t._v(t._s(t.$t("addCondition")))])]):t._e()],1)})],2)}),n("div",{staticStyle:{"text-align":"center"}},[n("div",{staticClass:"mt10 colorblue inline-block fontSize20",on:{click:function(d){return t.addGroup()}}},[n("i",{staticClass:"el-icon-plus",staticStyle:{cursor:"pointer"}}),n("a",[t._v(t._s(t.$t("addGroup")))])])])],2)},C=[],w=u(m,v,C,!1,null,"72db6823",null,null);const h=w.exports;return h.install=i=>i.component(h.name,h),h});
