(function(p,u){typeof exports=="object"&&typeof module<"u"?module.exports=u():typeof define=="function"&&define.amd?define(u):(p=typeof globalThis<"u"?globalThis:p||self,p.index=u())})(this,function(){"use strict";const p="";function u(a,e,t,r,s,o,d,n){var i=typeof a=="function"?a.options:a;e&&(i.render=e,i.staticRenderFns=t,i._compiled=!0),r&&(i.functional=!0),o&&(i._scopeId="data-v-"+o);var c;if(d?(c=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__<"u"&&(l=__VUE_SSR_CONTEXT__),s&&s.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(d)},i._ssrRegister=c):s&&(c=n?function(){s.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(i.functional){i._injectStyles=c;var y=i.render;i.render=function(k,h){return c.call(h),y(k,h)}}else{var _=i.beforeCreate;i.beforeCreate=_?[].concat(_,c):[c]}return{exports:a,options:i}}const v={name:"FastSql",props:{fields:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]}},data(){return{condition0:[{name:"\u4E14",id:"and"},{name:"\u6216",id:"or"}],condition1:[{name:"\u5F53",id:"when"},{name:"\u4E14",id:"and"},{name:"\u6216",id:"or"}],condition2:[{name:"\u7B49\u4E8E",id:"\uFF1D"},{name:"\u4E0D\u7B49\u4E8E",id:"\u2260"},{name:"\u5927\u4E8E",id:"\uFF1E"},{name:"\u5C0F\u4E8E",id:"\uFF1C"}],thisData:this.data}},methods:{addCondition(a){this.thisData[a].group.push(this.otherCondition())},addGroup(){this.thisData.push({c0:"and",group:[this.firstCondition()]})},firstCondition(){return{c1value:"when",field:"",c2value:"\uFF1D",value:""}},otherCondition(){return{c1value:"and",field:"",c2value:"\uFF1D",value:""}},value2name(a,e){return a.find(r=>r.id===e).name},handle0Command(a,e){console.log("===================================="),console.log(a,e),console.log("===================================="),this.thisData[e].c0=a},handle1Command(a,e,t){this.thisData[e].group[t].c1value=a},handleCommand(a,e,t){this.thisData[e].group[t].c2value=a},delItem(a,e){const t=[...this.thisData];t[a].group.length===1?t.splice(a,1):t[a].group.splice(e,1),this.thisData=t},getData(){return this.thisData}}};var m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"all-group"},[e._l(e.thisData,function(r,s){return t("div",{key:s,staticClass:"con-group"},[s!==0?t("div",[t("div",{staticClass:"flex-center-center"},[t("div",{staticClass:"line"}),t("div",{staticClass:"h-center"},[t("el-dropdown",{staticStyle:{"text-align":"center"},on:{command:o=>e.handle0Command(o,s)}},[t("span",{staticClass:"el-dropdown-link fontSize17 pointer"},[e._v(" "+e._s(e.value2name(e.condition0,r.c0))),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.condition0,function(o){return t("el-dropdown-item",{key:o.id,attrs:{command:o.id}},[e._v(e._s(o.name))])}),1)],1)],1),t("div",{staticClass:"line"})])]):e._e(),e._l(r.group,function(o,d){return t("div",{key:o.id,staticClass:"margin10"},[t("el-row",{attrs:{type:"flex",align:"middle"}},[t("el-col",{attrs:{span:3}},[t("el-dropdown",{on:{command:n=>e.handle1Command(n,s,d)}},[t("span",{staticClass:"el-dropdown-link pointer"},[e._v(" "+e._s(e.value2name(e.condition1,o.c1value))),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.condition0,function(n){return t("el-dropdown-item",{key:n.id,attrs:{command:n.id,disabled:d===0}},[e._v(e._s(n.name))])}),1)],1)],1),t("el-col",{attrs:{span:8}},[t("div",[t("el-select",{attrs:{slot:"prepend",placeholder:"\u8BF7\u9009\u62E9"},slot:"prepend",model:{value:o.field,callback:function(n){e.$set(o,"field",n)},expression:"item.field"}},e._l(e.fields,function(n){return t("el-option",{key:n.id,attrs:{label:n.name,value:n.id}})}),1)],1)]),t("el-col",{attrs:{span:3}},[t("el-dropdown",{on:{command:n=>e.handleCommand(n,s,d)}},[t("span",{staticClass:"el-dropdown-link pointer"},[e._v(" "+e._s(e.value2name(e.condition2,o.c2value))),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.condition2,function(n){return t("el-dropdown-item",{key:n.id,attrs:{command:n.id}},[e._v(e._s(n.name))])}),1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165"},model:{value:o.value,callback:function(n){e.$set(o,"value",n)},expression:"item.value"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t("i",{staticClass:"el-icon-circle-close",staticStyle:{cursor:"pointer"},on:{click:function(n){return e.delItem(s,d)}}})])],1),d===r.group.length-1?t("div",{staticClass:"mt10 colorblue inline-block",on:{click:function(n){return e.addCondition(s)}}},[t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{cursor:"pointer"}}),t("a",[e._v("\u6DFB\u52A0\u6761\u4EF6")])]):e._e()],1)})],2)}),t("div",{staticStyle:{"text-align":"center"}},[t("div",{staticClass:"mt10 colorblue inline-block fontSize20",on:{click:function(r){return e.addGroup()}}},[t("i",{staticClass:"el-icon-plus",staticStyle:{cursor:"pointer"}}),t("a",[e._v("\u6DFB\u52A0\u5206\u7EC4")])])])],2)},C=[],w=u(v,m,C,!1,null,"844df9ee",null,null);const f=w.exports;return f.install=a=>a.component(f.name,f),f});
